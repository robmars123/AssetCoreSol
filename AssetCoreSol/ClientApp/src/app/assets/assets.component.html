
<title>{{title}}</title>
<div class="flex-container mb-1">
  <span class="fs-5">Dashboard - Assets List</span>
  <span>Total Assets: {{totalAssets}}</span>
</div>
<div *ngIf="!(isLoading | async)">Loading data...</div>
<div class="tableList border shadow-sm">
<table class="table table-hover fixed-header" *ngIf="getAssetsResponse.assetList">
  <thead>
    <tr>
      <th>Asset Id</th>
      <th>Computer Name</th>
      <th>Department</th>
      <th>Comments</th>
      <th>Category</th>
      <th>Status</th>
      <th>Assigned Employee</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let asset of getAssetsResponse.assetList">
      <td>{{ asset.id }}</td>
      <td>{{ asset.computerName }}</td>
      <td>{{ asset.departmentName }}</td>
      <td>{{ asset.description }}</td>
      <td>{{ asset.categoryName }}</td>
      <td>{{ asset.statusName }}</td>
      <td>{{ asset.employeeId }}</td>
      <td>
          <a class="text-secondary" [routerLink]="['/assets', asset.id]" [routerLinkActive]='["link-active"]'>
            View Full Details
          </a>
      </td>
    </tr>
  </tbody>
</table>
</div>

<div class="mb-1 mt-3">
  <i class="fas fa-laptop-medical"></i> <span class="fs-5">Add Asset</span>
</div>
<form class="needs-validation border p-3 assetAddForm shadow-sm" [formGroup]="assetForm" ngNativeValidate>
  <div class="form-row">
    <div class="col-md-3 mb-3">
      <label for="validationCustom01">Computer Name</label>
      <input type="text" class="form-control" id="validationCustom01" placeholder="JohnDoe's PC" value="Mark" required formControlName="computerName">
      <div class="valid-feedback">
        Looks good!
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <label for="floatingTextarea2">Description</label>
      <div class="form-floating">
          <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea2" style="height: 100px" formControlName="description"></textarea>
        </div>
    </div>
    <div class="col-md-2 me-2">
      <label for="validationCustomUsername">Condition</label>
        <div class="" style="font-size: 11px;" >
          <!-- <mat-form-field appearance="fill" class="border rounded" style="height: 40px" >
            <mat-label>Status</mat-label>
            [value]=selectedItem is important to set default or selected value from dropdownlist 
            <mat-select [value]="selectedItem" formControlName="statusId">
              <mat-option *ngFor="let enum of statusEnum" [value]="enum">
                {{enum}}
              </mat-option>
            </mat-select>
          </mat-form-field> -->
          <mat-form-field appearance="fill" class="border rounded" style="height:40px !important;"  >
            <mat-label>Status</mat-label>
            <!-- [value]=selectedItem is important to set default or selected value from dropdownlist -->
            <mat-select formControlName="statusId" [value]="selectedItem">
              <mat-option *ngFor="let status of statusList" [value]="status.statusId">
                {{status.description}}
              </mat-option>
            </mat-select>
          </mat-form-field>
      </div>
    </div>
    <div class="col-md-2 ms-3">
      <label for="validationCustomUsername">Category</label>
        <div class="" style="font-size: 11px;" >
          <mat-form-field appearance="fill" class="border rounded" style="height:40px !important;"  >
            <mat-label>Category</mat-label>
            <!-- [value]=selectedItem is important to set default or selected value from dropdownlist -->
            <mat-select formControlName="assetCategoryId" [value]="selectedCategoryItem">
              <mat-option *ngFor="let cat of categoryList" [value]="cat.assetCategoryId">
                {{cat.assetCategoryName}}
              </mat-option>
            </mat-select>
          </mat-form-field>
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="col-md-3 mb-3">
      <label for="validationCustom03">Make</label>
      <input type="text" class="form-control" id="validationCustom03" placeholder="" required formControlName="make">
      <div class="invalid-feedback">
        Please provide a valid city.
      </div>
    </div>
    <div class="col-md-3 mb-3">
      <label for="validationCustom04">Model Number</label>
      <input type="text" class="form-control" id="validationCustom04" placeholder="" required formControlName="modelNumber">
      <div class="invalid-feedback">
        Please provide a valid state.
      </div>
    </div>
    <div class="col-md-3 mb-3">
      <label for="validationCustom04">Department</label>
      <div class="" style="font-size: 11px;" >
        <mat-form-field appearance="fill" class="border rounded" style="height:40px !important;"  >
          <mat-label>Department</mat-label>
          <!-- [value]=selectedItem is important to set default or selected value from dropdownlist -->
          <mat-select formControlName="departmentId">
            <mat-option *ngFor="let dep of departmentList" [value]="dep.id">
              {{dep.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <!-- <div class="col-md-3 mb-3">
      <label for="validationCustom04">Status</label>
      <input type="text" class="form-control" id="validationCustom04" placeholder="" required formControlName="statusId">
    </div> -->

    
    <!--<div class="col-md-3 mb-3">
      <label for="validationCustom05">Zip</label>
      <input type="text" class="form-control" id="validationCustom05" placeholder="Zip" required formControlName="computerName">
      <div class="invalid-feedback">
        Please provide a valid zip.
      </div>
    </div>-->
  </div>

  <button class="btn btn-dark shadow-sm" type="button" (click)="addItem()" [disabled]="assetForm.invalid">Submit</button>
  <button class="shadow-sm btn btn-dark ms-2" type="button" (click)="reset()">Reset</button>
  <span class="ms-2 text-success" *ngIf="isAddedSuccessfulMessage">{{successfulMessage}}</span>
  <span class="ms-2 text-success" *ngIf="isDeletedSuccessfulMessage">{{successfulMessage}}</span>
</form>


